
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Instruction manual for PSII Fluorescence HPC workflow &#8212; PhytoOracle 1.0.1 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="instruction-manual-for-psii-fluorescence-hpc-workflow">
<h1>Instruction manual for PSII Fluorescence HPC workflow<a class="headerlink" href="#instruction-manual-for-psii-fluorescence-hpc-workflow" title="Permalink to this headline">¶</a></h1>
<p><strong>Staging Data on HPC xdisks</strong></p>
<ul class="simple">
<li><p>Read more about using xdisks <a class="reference external" href="https://public.confluence.arizona.edu/display/UAHPC/Using+xdisk">here</a></p></li>
<li><p>Login to UA-HPC OCELOTE and create expendable storage disk as below,</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xdisk</span> <span class="o">-</span><span class="n">c</span> <span class="n">create</span> <span class="o">-</span><span class="n">h</span> <span class="n">user_name</span> <span class="o">-</span><span class="n">m</span> <span class="mi">500</span>
<span class="n">xdisk</span> <span class="o">-</span><span class="n">c</span> <span class="n">query</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Check and size the partion as needed using the <cite>xdisk -c size -m 1000</cite> command.</p></li>
<li><p>Download test data (tarball) using irods (Note: irods is not avaialble on elgato)</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">iinit</span> <span class="c1"># Enter your iRODS credentials</span>
<span class="n">cd</span> <span class="o">/</span><span class="n">xdisk</span><span class="o">/</span><span class="n">user_name</span><span class="o">/</span>
<span class="n">iget</span> <span class="o">-</span><span class="n">K</span> <span class="o">/</span><span class="n">iplant</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">shared</span><span class="o">/</span><span class="n">terraref</span><span class="o">/</span><span class="n">ua</span><span class="o">-</span><span class="n">mac</span><span class="o">/</span><span class="n">raw_tars</span><span class="o">/</span><span class="n">season_10</span><span class="o">/</span><span class="n">ps2Top</span><span class="o">/</span><span class="n">ps2Top</span><span class="o">-</span><span class="mi">2020</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mf">25.</span><span class="n">tar</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Logout of OCELOTE and login to ELGATO and change directories to <cite>xdisk/user_name/</cite> for execution.</p></li>
<li><p>Git clone PhytoOracle PSII workflow</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">uacic</span><span class="o">/</span><span class="n">PhytoOracle</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">PhytoOracle</span><span class="o">/</span><span class="n">psII</span><span class="o">/</span>
<span class="n">mv</span> <span class="o">/</span><span class="n">xdisk</span><span class="o">/</span><span class="n">user_name</span><span class="o">/</span><span class="n">ps2Top</span><span class="o">-</span><span class="mi">2020</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mf">25.</span><span class="n">tar</span> <span class="n">PhytoOracle</span><span class="o">/</span><span class="n">psII</span><span class="o">/</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Alter the <cite>arg_example.json</cite> and <cite>submit_elagato_ps2.pbs</cite> as needed as submit job as follows</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">qsub</span> <span class="n">submit_elgato_ps2</span><span class="o">.</span><span class="n">pbs</span>
<span class="n">qstat</span> <span class="o">-</span><span class="n">u</span> <span class="n">user_name</span>
</pre></div>
</div>
<p><strong>Resource Usage Log</strong></p>
<ul class="simple">
<li><p>The workflow comes with CCTools <a class="reference external" href="https://cctools.readthedocs.io/en/latest/resource_monitor/">Resource Monitor</a> enabled which, is a tool to monitor the computational resources used by the process created by the workflow and all its descendants.</p></li>
<li><p>The resource monitor log outputs the following information though note that the monitor works indirectly, that is, by observing how the environment changed while a process was running, therefore all the information reported should be considered just as an estimate.</p></li>
</ul>
<table class="colwidths-given docutils align-default" id="id2">
<caption><span class="caption-text">Output Format</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>command</p></td>
<td><p>the command line given as an argument</p></td>
</tr>
<tr class="row-odd"><td><p>start</p></td>
<td><p>time at start of execution,since the epoch</p></td>
</tr>
<tr class="row-even"><td><p>end</p></td>
<td><p>time at end of execution,since the epoch</p></td>
</tr>
<tr class="row-odd"><td><p>exit_type</p></td>
<td><p>one of normal ignal or limit (a string)</p></td>
</tr>
<tr class="row-even"><td><p>signal</p></td>
<td><p>number of the signal that terminated the process</p></td>
</tr>
<tr class="row-odd"><td><p>cores</p></td>
<td><p>maximum number of cores used</p></td>
</tr>
<tr class="row-even"><td><p>cores_avg</p></td>
<td><p>number of cores as cpu_time/wall_time</p></td>
</tr>
<tr class="row-odd"><td><p>exit_status</p></td>
<td><p>final status of the parent process</p></td>
</tr>
<tr class="row-even"><td><p>max_concurrent_processes</p></td>
<td><p>the maximum number of processes running concurrently</p></td>
</tr>
<tr class="row-odd"><td><p>total_processes</p></td>
<td><p>count of all of the processes created</p></td>
</tr>
<tr class="row-even"><td><p>wall_time</p></td>
<td><p>duration of execution, end - start</p></td>
</tr>
<tr class="row-odd"><td><p>cpu_time</p></td>
<td><p>user+system time of the execution</p></td>
</tr>
<tr class="row-even"><td><p>virtual_memory</p></td>
<td><p>maximum virtual memory across all processes</p></td>
</tr>
<tr class="row-odd"><td><p>memory</p></td>
<td><p>maximum resident size across all processes</p></td>
</tr>
<tr class="row-even"><td><p>swap_memory</p></td>
<td><p>maximum swap usage across all processes</p></td>
</tr>
<tr class="row-odd"><td><p>bytes_read</p></td>
<td><p>amount of data read from disk</p></td>
</tr>
<tr class="row-even"><td><p>bytes_written</p></td>
<td><p>amount of data written to disk</p></td>
</tr>
<tr class="row-odd"><td><p>bytes_received</p></td>
<td><p>amount of data read from network interfaces</p></td>
</tr>
<tr class="row-even"><td><p>bytes_sent</p></td>
<td><p>amount of data written to network interfaces</p></td>
</tr>
<tr class="row-odd"><td><p>bandwidth</p></td>
<td><p>maximum bandwidth used</p></td>
</tr>
<tr class="row-even"><td><p>total_files</p></td>
<td><p>total maximum number of files and directories of all the working directories in the tree</p></td>
</tr>
<tr class="row-odd"><td><p>disk</p></td>
<td><p>size of all working directories in the tree</p></td>
</tr>
<tr class="row-even"><td><p>limits_exceeded</p></td>
<td><p>resources over the limit with -l, -L options (JSON object)</p></td>
</tr>
<tr class="row-odd"><td><p>peak_times</p></td>
<td><p>seconds from start when a maximum occured (JSON object)</p></td>
</tr>
<tr class="row-even"><td><p>snapshots</p></td>
<td><p>List of intermediate measurements, identified by snapshot_name (JSON object)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="season-10-psii-workflow-benchmarking">
<h1>Season-10 PSII workflow benchmarking<a class="headerlink" href="#season-10-psii-workflow-benchmarking" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Click <a class="reference external" href="https://docs.google.com/spreadsheets/d/1aoz9bixQsi4DKEDw8TkUyXmd6FJ5BdynTXdzsHuvAXw/edit?usp=sharing">here</a> for ps2 workflow benchmarking on UA HPC.</p></li>
</ul>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">PhytoOracle</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Michele Cosi.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.0.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/old_docs/ps2.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>